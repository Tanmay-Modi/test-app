{% extends 'base.html.twig' %}

{% block title %}TestApp{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    
    <body>

    <div style="margin:2px;">
        <a href="{{path('create_user')}}">Create User</a>

    </div>

    <div>
    {% for message in app.flashes('success') %}
    <div class="flash-notice">
        {{ message }}
    </div>
    {% endfor %}
    </div>


    <table border=1>
    <thead>
        <tr>
            <th>No.</th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Gender</th>
            <th colspan=2>Action</th>
        </tr>
    </thead>

    <tbody>
     {% if users|length > 0 %}
      {% for key,user in users %}
        <tr>
            <td>{{loop.index}}</td>
            <td>{{user.name}}</td>
            <td>{{user.email}}</td>
            <td>{{user.phone}}</td>
            <td>{{user.gender}}</td>
            <td><a href="{{path('edit_user', {'id':user.id}) }}">Edit</a></td>
            <td><a href="{{path('delete_user', {'id':user.id}) }}" onclick="return deleteUser()" >Delete</a></td>
        </tr>
       {% endfor %}
    {% else %}
            <tr  >
           <td colspan=6 style="text-align: center; ">No Records </td>
            </tr>
         {% endif %}
    </tbody>
    </table>
     {# <p>No records found.</p> #}
        
    
    <script>
    
    function deleteUser(){
         return confirm('Are you sure you want to delete this user?');
    }
    </script>
    </body>
</div>  
{% endblock %}
